<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Tours & Travel Agency</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">



    <!-- Favicons -->
    <link href="img/logo.ico" rel="icon">
    <link href="img/apple-favicon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,700|Raleway:100,200,300,400,500,600,700,800,900"
        rel="stylesheet">

    <!-- Vendor CSS File -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="vendor/slick/slick.css" rel="stylesheet">
    <link href="vendor/slick/slick-theme.css" rel="stylesheet">
    <link href="vendor/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />


    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>

    <!-- Main Stylesheet File -->
    <link href="css/hover-style.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/my_css.css">

</head>

<body>
    <!-- Header Section Start -->
    <header id="header">
        <a href="index.html" class="text-light logo"><img src="./img/logo.png" alt=""></a>

        <div class="phone"><i class="fa fa-phone"></i>+1 234 567 8900</div>
        <div class="mobile-menu-btn"><i class="fa fa-bars"></i></div>
        <nav class="main-menu top-menu">
            <ul>
                <li class="active"><a href="index.html">Home</a></li>
                <li><a href="about.html">About US</a></li>
                
                
                <li><a href="register.html">Register</a></li> 
                <li><a href="login.html">Login</a></li>
                <li><a href="contact.html">Contact Us</a></li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Pages</a>
                    <ul class="dropdown-menu custom-dropdown">
                        <li><a href="places.html class="dropdown-item">places</a></li>
                        <li><a href="hotrelplaces.html" class="dropdown-item">Booking</a></li>
                        <li><a href="travelguide.html" class="dropdown-item">Travel Guides</a></li>
                        
                    </ul>
                </li>
                </ul>
        </nav>
    </header>


    <div class="bus-booking-section-main">

        <!-- Booking Form for Route Selection -->
        <section id="booking-form">
            <div class="container">
                <div class="section-header text-center">
                    <h2 style="color: white;">Book Your Bus Ticket</h2>
                    <p>Select your route, choose the date, and book your bus tickets online.</p>
                </div>
                <form id="booking-form" class="black">

                    <div class="row">
                        <!-- Route Selection -->-
                        <div class="col-md-4">
                            <label for="route">Select Route</label>
                            <select id="route" name="route" class="form-control" required>
                                <option value="UDAIPUR">UDAIPUR</option><!--mountabu,JAIPUR,UDAIPUR-->
                                <option value="KULLU-MANALI">KULLU-MANALI</option> <!--KULUMANALI-->
                                <option value="JUBBARHATTI">JUBBARHATTI</option> <!--SHIMLA-->
                                <option value="KOCHI">KOCHI</option> <!--KERALA-->
                                <option value="VELANA">VELANA</option> <!--MALDIVES-->
                            </select>
                        </div>

                        <!-- Date Selection -->
                        <div class="col-md-4">
                            <label for="date">
                                <center>Select Date</center>
                            </label>
                            <input type="date" id="date" name="date" class="form-control" required>
                        </div>

                        <!-- Number of Passengers -->
                        <div class="col-md-4">
                            <label for="passengers">Number of Passengers</label>
                            <input type="number" id="passengers" name="passengers" class="form-control" min="1"
                                required>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-12 text-center">
                            <button type="button" class="btn btn-primary">Confirm Booking</button>
                        </div>
                    </div>
                </form>
            </div>
        </section>


        <!-- bus available -->
        <section id="available-buses">
            <div class="container">
                <div class="section-header text-center">
                    <h2 style="color: white;">Available Buses for Your Route</h2>
                    <p>Select a bus to continue with your booking.</p>
                </div>

                <div class="row">
                    <!-- Bus Option 1 -->
                    <div class="col-md-4">
                        <div class="bus-card">
                            <h3>Luxury Bus A</h3>
                            <p><strong>Price:</strong> 700</p>
                            <p><strong>Seats Available:</strong> 20</p>
                            <p><strong>Facilities:</strong> Air-conditioned, WiFi, Charging Ports</p>
                            <a href="book-bus.html" class="btn btn-primary">Select Bus</a>
                        </div>
                    </div>

                    <!-- Bus Option 2 -->
                    <div class="col-md-4">
                        <div class="bus-card">
                            <h3>Economy Bus B</h3>
                            <p><strong>Price:</strong> 500</p>
                            <p><strong>Seats Available:</strong> 30</p>
                            <p><strong>Facilities:</strong> Standard Seats, Air-conditioning</p>
                            <a href="book-bus.html" class="btn btn-primary">Select Bus</a>
                        </div>
                    </div>

                    <!-- Bus Option 3 -->
                    <div class="col-md-4">
                        <div class="bus-card">
                            <h3>Standard Bus C</h3>
                            <p><strong>Price:</strong> 400</p>
                            <p><strong>Seats Available:</strong> 25</p>
                            <p><strong>Facilities:</strong> Air-conditioned</p>
                            <a href="book-bus.html" class="btn btn-primary">Select Bus</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- booking section start -->
        <section id="booking-confirmation">
            <div class="container">
                <div class="section-header text-center">
                    <h2>Booking Confirmation</h2>
                    <p>Review your booking details before proceeding.</p>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <h3>Booking Details</h3>
                        <ul>
                            <li><strong>Route:</strong> </li>
                            <li><strong>Bus:</strong> </li>
                            <li><strong>Date:</strong> </li>
                            <li><strong>Passengers:</strong> </li>
                            <li><strong>Total Price:</strong> </li>
                        </ul>
                    </div>

                    <div class="col-md-6">
                        <h3>Passenger Details</h3>
                        <form action="" method="POST">
                            <div class="form-group">
                                <label for="name">Full Name</label>
                                <input type="text" id="name" name="name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" name="email" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="number" id="phone" name="phone" class="form-control" required>
                            </div>

                            <div class="form-group">
                                <button type="button" class="btn btn-success" id="confirmbtn">Confirm & Pay</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <!-- booking section ends -->


        <!-- payment section start -->
        <br>
        <section id="payment">

            <div class="container">
                <div class="section-header text-center">
                    <h2>Payment</h2>
                    <p>Complete your payment to finalize the booking.</p>
                </div>

                <!-- Payment Options -->
                <label for="payment-method" style="color: whitE;">Payment Method</label>
                <select class="form-control" id="payment-method" name="payment-method">
                    <option value="credit-card">Credit Card</option>
                    <option value="paypal">PayPal</option>
                    <option value="cash">Cash on Arrival</option>
                </select>

        </section>


        <!-- payment section ends -->



        <!-- Call Section Start -->
        <div id="call-us">
            <div class="container">
                <div class="section-header">
                    <h2>Click Below to Call Us</h2>
                    <p>
                        Call us today to start planning your dream vacation! Our team is ready to help with personalized
                        itineraries and exclusive deals.For any query,
                        <br>weâ€™re here to assist you.
                    </p>
                </div>
                <div class="row">
                    <div class="col-12">
                        <a href="tel:+12345678900">+1 234 567 8900</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Section Start -->
    <div id="footer">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="social">
                        <a href="">
                            <li class="fa fa-instagram"></li>
                        </a>
                        <a href="">
                            <li class="fa fa-twitter"></li>
                        </a>
                        <a href="">
                            <li class="fa fa-facebook-f"></li>
                        </a>
                    </div>
                </div>
                <div class="col-12">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>

                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>

            </div>
        </div>
    </div>
    <!-- Footer Section End -->

    <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>

    <!-- Vendor JavaScript File -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/jquery/jquery-migrate.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/easing/easing.min.js"></script>
    <script src="vendor/stickyjs/sticky.js"></script>
    <script src="vendor/superfish/hoverIntent.js"></script>
    <script src="vendor/superfish/superfish.min.js"></script>
    <script src="vendor/wow/wow.min.js"></script>
    <script src="vendor/slick/slick.min.js"></script>
    <script src="vendor/tempusdominus/js/moment.min.js"></script>
    <script src="vendor/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="vendor/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>
    <script src="https://unpkg.com/ionicons@5.5.2/dist/ionicons.js"></script>


    <!-- Booking Javascript File -->
    <script src="js/booking.js"></script>
    <script src="js/jqBootstrapValidation.min.js"></script>

    <!-- Main Javascript File -->
    <script src="js/main.js"></script>
    <script src="myjs.js"></script>
    <script>
        document.getElementById('confirmbtn').addEventListener('click', async function () {
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const route = document.getElementById('route').value;
            const date = document.getElementById('date').value;
            const passengers =  parseInt(document.getElementById('passengers').value, 10);

            const totalPrice = passengers * 700; // Assuming the price per passenger for this bus is 700
            const paymentMethod = document.getElementById('payment-method').value;

            const bookingData = {
                name,
                email,
                phone,
                route,
                date,
                passengers,
                totalPrice,
                paymentMethod,
            };

            // Send data to backend
            try{

                await fetch('http://localhost:8080/api/book', {
                    method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(bookingData),
            })
            .then(response => response.json())
            .then(data => {
                alert('Booking Confirmed!');
                console.log(data);
            })
            .catch(error => {
                console.error('Error:', error);
                
                
            });
        }catch(err){
            console.log("error while fetching the details",err);
        }

            // console.log(bookingData)
        })
    </script>

</body>

</html>